* aplig - Always Program with Ligatures (in emacs)

(In-progress)

Indentation-correcting visual replacements of symbols with other symbols.

Alignment and indentation issues hamper ligature's generalization, known as
prettified-symbols in Emacs, from adoption. aplig attempts to bring the joy and
readability of apl to every language!

** Details

Ligatures render consecutive graphemes, or characters, as a single glyph.

Fonts with programming ligatures, like Fira Code, design their ligature glyphs
to have the same width as their constituent characters. The glyphs for >= and ->
take up two spaces.

Matching sizes is not always possible so alignment will break. A simple
example: render ~and~ as ~∧~, its symbol.

#+BEGIN_SRC lisp
(and foo   ; The actual text
     bar)
(∧ foo     ; What we see when working - bar isn't aligned!
     bar)
(∧ foo     ; What we want to see when working...
   bar)
(and foo   ; But now the true indentation is incorrect!
   bar)
#+END_SRC

There are many similar, desirable examples. Like rendering ~alpha~ as ~ɑ~,
~lambda~ as ~λ~, ~for~ as ~∀~, and so on.

*aplig masks indentation*. Our working indentation is visually modified so that
in the example above, we see example 3 while the true text is example 1.

/Note on terminology:/ [[https://helpful.knobs-dials.com/index.php/Morpheme,_Syllable,_Lexeme,_Grapheme,_Phoneme,_Character,_Glyph][graphemes, characters, and glyphs]] can be confusing when
used technically. I understand the least precise definition of ligatures to be
the rendering of consecutive characters as a specific character. Emacs
generalization is ~prettify-symbols~. Note that typical ligatures are not
supported by Emacs display engine and require non-trivial modifications to Emacs
C core.

** Current State

Given ~hello -> ∧~ and ~bye -> !∨~ (a two-character replacement):

[[./img/progress-1.png]]

The text on the left is debugging information showing
~true-indent|masked-indent|contributing-symbols~.

- Doesn't yet support buffer modification, it's a toggle.
- Line movement needs to adjust for the indentation masks.
- Boundary functions are very simple and make many assumptions.
- Boundary functions only implemented for lisps.
- ... and many more challenges.
